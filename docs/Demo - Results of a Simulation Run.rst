Demo - Results of a Simulation Run
==================================

In the previous section we ran an EnergyPlus simulation using the `runsim` function.

.. code-block:: python
   :lineno-start: 1

   >>> from eprun import runsim
   >>> result=runsim(ep_dir=r'C:\EnergyPlusV9-6-0',
   >>>               input_filepath='1ZoneUncontrolled.idf',
   >>>               epw_filepath='USA_CO_Golden-NREL.724666_TMY3.epw',
   >>>               sim_dir='simulation_results')
   >>> print(type(result))
   <class 'eprun.epresult.EPResult'>
   
This returns a `EPResult` object instance.
We can check if the simulation run was successful - i.e. EnergyPlus ran and generated results files - 
by looking at the `returncode <EPResult.returncode>` property of the `EPResult` object.
This is a copy of the `returncode <subprocess.CompletedProcess.returncode>` of the `subprocess.run` method 
where 0 means success and 1 means failure.

.. code-block:: python
   :lineno-start: 8

   >>> print(epresult.returncode)
   0      
   
The `stdout <EPResult.stdout>` property of the `EPResult` object stores a copy of the 
`stdout <subprocess.CompletedProcess.stdout>` of the `subprocess.run` method.
This is the text generated by the call which would appear if the call was run on the Command Prompt.

.. code-block:: python
   :lineno-start: 10

   >>> print(epresult.stdout)
   EnergyPlus Starting
   EnergyPlus, Version 9.6.0-f420c06a69, YMD=2022.03.09 06:09
   Adjusting Air System Sizing
   Adjusting Standard 62.1 Ventilation Sizing
   Initializing Simulation
   Reporting Surfaces
   Beginning Primary Simulation
   Initializing New Environment Parameters
   Warming up {1}
   Warming up {2}
   Warming up {3}
   Warming up {4}
   Warming up {5}
   Warming up {6}
   Warming up {7}
   Warming up {8}
   Warming up {9}
   Warming up {10}
   Warming up {11}
   Warming up {12}
   Warming up {13}
   Warming up {14}
   Warming up {15}
   Warming up {16}
   Warming up {17}
   Warming up {18}
   Warming up {19}
   Warming up {20}
   Warming up {21}
   Warming up {22}
   Starting Simulation at 12/21 for DENVER CENTENNIAL  GOLDEN   N ANN HTG 99% CONDNS DB
   Initializing New Environment Parameters
   Warming up {1}
   Warming up {2}
   Warming up {3}
   Warming up {4}
   Warming up {5}
   Warming up {6}
   Warming up {7}
   Warming up {8}
   Warming up {9}
   Warming up {10}
   Warming up {11}
   Warming up {12}
   Warming up {13}
   Warming up {14}
   Warming up {15}
   Warming up {16}
   Starting Simulation at 07/21 for DENVER CENTENNIAL  GOLDEN   N ANN CLG 1% CONDNS DB=>MWB
   Initializing New Environment Parameters
   Warming up {1}
   Warming up {2}
   Warming up {3}
   Warming up {4}
   Warming up {5}
   Warming up {6}
   Warming up {7}
   Warming up {8}
   Warming up {9}
   Warming up {10}
   Warming up {11}
   Warming up {12}
   Warming up {13}
   Warming up {14}
   Warming up {15}
   Warming up {16}
   Warming up {17}
   Warming up {18}
   Warming up {19}
   Warming up {20}
   Starting Simulation at 01/01/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=01/21/2013
   Continuing Simulation at 01/21/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=02/10/2013
   Continuing Simulation at 02/10/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=03/02/2013
   Continuing Simulation at 03/02/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=03/22/2013
   Continuing Simulation at 03/22/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=04/11/2013
   Continuing Simulation at 04/11/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=05/01/2013
   Continuing Simulation at 05/01/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=05/21/2013
   Continuing Simulation at 05/21/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=06/10/2013
   Continuing Simulation at 06/10/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=06/30/2013
   Continuing Simulation at 06/30/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=07/20/2013
   Continuing Simulation at 07/20/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=08/09/2013
   Continuing Simulation at 08/09/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=08/29/2013
   Continuing Simulation at 08/29/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=09/18/2013
   Continuing Simulation at 09/18/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=10/08/2013
   Continuing Simulation at 10/08/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=10/28/2013
   Continuing Simulation at 10/28/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=11/17/2013
   Continuing Simulation at 11/17/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=12/07/2013
   Continuing Simulation at 12/07/2013 for RUN PERIOD 1
   Updating Shadowing Calculations, Start Date=12/27/2013
   Continuing Simulation at 12/27/2013 for RUN PERIOD 1
   Writing tabular output file results using comma format.
   Writing tabular output file results using tab format.
   Writing tabular output file results using text format.
   Writing tabular output file results using HTML format.
   Writing tabular output file results using XML format.
   EnergyPlus Run Time=00hr 00min  0.65sec

The `EPResult` object also contains the filepaths of all the results files generated by a successful EnergyPlus run.
These files are stored in the designated simulation directory and are accessed using the `files <EPResult.files>` property.

.. code-block:: python
   :lineno-start: 124

   >>> print(epresult.files)
   {'audit': 'C:\\simulation_results\\eplusout.audit', 
    'bnd': 'C:\\simulation_results\\eplusout.bnd', 
    'dxf': 'C:\\simulation_results\\eplusout.dxf', 
    'eio': 'C:\\simulation_results\\eplusout.eio', 
    'end': 'C:\\simulation_results\\eplusout.end', 
    'err': 'C:\\simulation_results\\eplusout.err', 
    'eso': 'C:\\simulation_results\\eplusout.eso', 
    'mdd': 'C:\\simulation_results\\eplusout.mdd', 
    'mtd': 'C:\\simulation_results\\eplusout.mtd', 
    'mtr': 'C:\\simulation_results\\eplusout.mtr', 
    'rdd': 'C:\\simulation_results\\eplusout.rdd', 
    'shd': 'C:\\simulation_results\\eplusout.shd', 
    'csv': 'C:\\simulation_results\\eplustbl.csv', 
    'htm': 'C:\\simulation_results\\eplustbl.htm', 
    'tab': 'C:\\simulation_results\\eplustbl.tab', 
    'txt': 'C:\\simulation_results\\eplustbl.txt', 
    'xml': 'C:\\simulation_results\\eplustbl.xml'}

These files contain the results of the EnergyPlus simulation. How to view the contents of these files is described in the next section.

Further resources
-----------------

* The documentation for the `EPResult class <EPResult_class>`
* The '`Running an EnergyPlus simulation on the 1ZoneUncontrolled file`_' Jupyter Notebook shows the eprun function in action.
* The EnergyPlus QuickStart guide: https://energyplus.net/quickstart
* The 'Running EnergyPlus: Command Line' section on p15 in the `EnergyPlus Essentials`_ documentation.

.. _Running an EnergyPlus simulation on the 1ZoneUncontrolled file: https://nbviewer.jupyter.org/github/stevenkfirth/eprun/blob/main/examples/Running%20an%20EnergyPlus%20simulation%20on%20the%201ZoneUncontrolled%20file/Running%20an%20EnergyPlus%20simulation%20on%20the%201ZoneUncontrolled%20file.ipynb
.. _EnergyPlus Essentials: https://energyplus.net/quickstart#reading
